Account=Ember.Application.create({LOG_TRANSITIONS:!0,LOG_VIEW_LOOKUPS:!0}),Account.OrderLine=Ember.Object.extend({productName:null,unitPrice:0,count:0,subtotal:function(){return this.get("unitPrice")*this.get("count")}.property("unitPrice","count")}),Account.Sheet=Ember.Object.extend({lines:[],createdAt:null,id:function(){return Account.Sheet.sheets.indexOf(this)+1}.property("Account.Sheet.sheets.length"),total:function(){return this.get("lines.@each.subtotal").reduce(function(t,e){return t+e||0},0)}.property("lines.@each.subtotal")}),Account.Sheet.sheets=[],Account.IndexController=Ember.ObjectController.extend({actions:{addOrderLine:function(){this.get("lines").addObject(Account.OrderLine.create())},deleteLine:function(t){this.get("lines").removeObject(t)},addSheet:function(){var t=this.get("model");t.set("createdAt",new Date),Account.Sheet.sheets.addObject(t),this.transitionToRoute("sheets")}}}),Account.LinkToSocialComponent=Ember.Component.extend({tagName:"a",target:"_blank",mediaType:null,account:null,attributeBindings:["href","target","title"],href:function(){var t=this.get("mediaType"),e=this.get("account"),n=Account.LinkToSocialComponent.mediaToUrls[t];return n.fmt(e)}.property("mediaUrl","account"),title:function(){return"@"+this.get("account")}.property("account"),iconClass:function(){return"icon-"+this.get("mediaType")}.property("mediaType")}),Account.LinkToSocialComponent.mediaToUrls={twitter:"https://twitter.com/%@",github:"https://github.com/%@"},Ember.TEMPLATES.application=Ember.Handlebars.template(function(t,e,n,s,a){function h(t,e){e.buffer.push('\n      <i class="icon-list-ul"></i>\n      一覧を見る\n    ')}function u(t,e){e.buffer.push('\n      <i class="icon-edit"></i>\n      登録する\n    ')}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var r,o,c,i,p,l="",f=this.escapeExpression,d=this,b=n.helperMissing;return a.buffer.push('<div id="content">\n  '),c={},i={},a.buffer.push(f(n._triageMustache.call(e,"outlet",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:c,data:a}))),a.buffer.push('\n\n  <div id="navigation">\n    '),c={},i={},p={hash:{},inverse:d.noop,fn:d.program(1,h,a),contexts:[e],types:["STRING"],hashContexts:i,hashTypes:c,data:a},r=n["link-to"]||e["link-to"],o=r?r.call(e,"sheets",p):b.call(e,"link-to","sheets",p),(o||0===o)&&a.buffer.push(o),a.buffer.push("\n    |\n    "),c={},i={},p={hash:{},inverse:d.noop,fn:d.program(3,u,a),contexts:[e],types:["STRING"],hashContexts:i,hashTypes:c,data:a},r=n["link-to"]||e["link-to"],o=r?r.call(e,"index",p):b.call(e,"link-to","index",p),(o||0===o)&&a.buffer.push(o),a.buffer.push("\n  </div>\n</div>\n\n<footer>\n  <span>\n    © 2013 Ryunosuke SATO\n    "),i={mediaType:e,account:e},c={mediaType:"STRING",account:"STRING"},p={hash:{mediaType:"twitter",account:"tricknotes"},contexts:[],types:[],hashContexts:i,hashTypes:c,data:a},a.buffer.push(f((r=n["link-to-social"]||e["link-to-social"],r?r.call(e,p):b.call(e,"link-to-social",p)))),a.buffer.push("\n    "),i={mediaType:e,account:e},c={mediaType:"STRING",account:"STRING"},p={hash:{mediaType:"github",account:"tricknotes"},contexts:[],types:[],hashContexts:i,hashTypes:c,data:a},a.buffer.push(f((r=n["link-to-social"]||e["link-to-social"],r?r.call(e,p):b.call(e,"link-to-social",p)))),a.buffer.push("\n    All rights reserved.\n  </span>\n</footer>\n"),l}),Ember.TEMPLATES["components/link-to-social"]=Ember.Handlebars.template(function(t,e,n,s,a){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var h,u,r,o,c="",i=n.helperMissing,p=this.escapeExpression;return a.buffer.push("<i "),u={"class":e},r={"class":"ID"},o={hash:{"class":"iconClass"},contexts:[],types:[],hashContexts:u,hashTypes:r,data:a},a.buffer.push(p((h=n["bind-attr"]||e["bind-attr"],h?h.call(e,o):i.call(e,"bind-attr",o)))),a.buffer.push("></i>\n"),c}),Ember.TEMPLATES.index=Ember.Handlebars.template(function(t,e,n,s,a){function h(t,e){var s,a,h,u,r="";return e.buffer.push("\n    <tr>\n      <td>"),a={value:t},h={value:"ID"},u={hash:{value:"productName"},contexts:[],types:[],hashContexts:a,hashTypes:h,data:e},e.buffer.push(p((s=n.input||t.input,s?s.call(t,u):i.call(t,"input",u)))),e.buffer.push("</td>\n      <td>"),a={type:t,value:t,min:t},h={type:"ID",value:"ID",min:"INTEGER"},u={hash:{type:"number",value:"unitPrice",min:0},contexts:[],types:[],hashContexts:a,hashTypes:h,data:e},e.buffer.push(p((s=n.input||t.input,s?s.call(t,u):i.call(t,"input",u)))),e.buffer.push("</td>\n      <td>"),a={type:t,value:t,min:t},h={type:"ID",value:"ID",min:"INTEGER"},u={hash:{type:"number",value:"count",min:0},contexts:[],types:[],hashContexts:a,hashTypes:h,data:e},e.buffer.push(p((s=n.input||t.input,s?s.call(t,u):i.call(t,"input",u)))),e.buffer.push('</td>\n      <td>\n        <i class="icon-jpy"></i>\n        '),h={},a={},e.buffer.push(p(n._triageMustache.call(t,"subtotal",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:h,data:e}))),e.buffer.push("\n      </td>\n      <td>\n        <button "),h={},a={},e.buffer.push(p(n.action.call(t,"deleteLine","",{hash:{},contexts:[t,t],types:["STRING","ID"],hashContexts:a,hashTypes:h,data:e}))),e.buffer.push('>\n          <i class="icon-remove"></i>\n        </button>\n      </td>\n    </tr>\n  '),r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var u,r,o,c="",i=n.helperMissing,p=this.escapeExpression,l=this;return a.buffer.push("<h1>帳票登録</h1>\n\n<table>\n  <tr>\n    <th>商品名</th>\n    <th>金額</th>\n    <th>個数</th>\n    <th>小計</th>\n    <th></th>\n  </tr>\n  "),r={},o={},u=n.each.call(e,"lines",{hash:{},inverse:l.noop,fn:l.program(1,h,a),contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}),(u||0===u)&&a.buffer.push(u),a.buffer.push('\n  <tr>\n    <td colspan="3"></td>\n    <td>\n      <i class="icon-jpy"></i>\n      '),r={},o={},a.buffer.push(p(n._triageMustache.call(e,"total",{hash:{},contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push("\n    </td>\n  </tr>\n</table>\n\n<button "),r={},o={},a.buffer.push(p(n.action.call(e,"addOrderLine",{hash:{},contexts:[e],types:["STRING"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push('>\n  <i class="icon-double-angle-down"></i>\n  行を追加\n</button>\n\n<button '),r={},o={},a.buffer.push(p(n.action.call(e,"addSheet",{hash:{},contexts:[e],types:["STRING"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push('>\n  <i class="icon-plus"></i>\n  登録する\n</button>\n'),c}),Ember.TEMPLATES.sheet=Ember.Handlebars.template(function(t,e,n,s,a){function h(t,e){var s,a,h="";return e.buffer.push("\n    <tr>\n      <td>"),s={},a={},e.buffer.push(i(n._triageMustache.call(t,"productName",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:e}))),e.buffer.push("</td>\n      <td>"),s={},a={},e.buffer.push(i(n._triageMustache.call(t,"unitPrice",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:e}))),e.buffer.push("</td>\n      <td>"),s={},a={},e.buffer.push(i(n._triageMustache.call(t,"count",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:e}))),e.buffer.push("</td>\n      <td>"),s={},a={},e.buffer.push(i(n._triageMustache.call(t,"subtotal",{hash:{},contexts:[t],types:["ID"],hashContexts:a,hashTypes:s,data:e}))),e.buffer.push("</td>\n    </tr>\n  "),h}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var u,r,o,c="",i=this.escapeExpression,p=this;return a.buffer.push("<h1>帳票詳細: #"),r={},o={},a.buffer.push(i(n._triageMustache.call(e,"id",{hash:{},contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push("</h1>\n\n作成日時: "),r={},o={},a.buffer.push(i(n._triageMustache.call(e,"createdAt",{hash:{},contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push("\n\n<table>\n  <tr>\n    <th>商品名</th>\n    <th>金額</th>\n    <th>個数</th>\n    <th>小計</th>\n  </tr>\n  "),r={},o={},u=n.each.call(e,"lines",{hash:{},inverse:p.noop,fn:p.program(1,h,a),contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}),(u||0===u)&&a.buffer.push(u),a.buffer.push('\n  <tr>\n    <td colspan="3"></td>\n    <td>\n      <i class="icon-jpy"></i>\n      '),r={},o={},a.buffer.push(i(n._triageMustache.call(e,"total",{hash:{},contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push("\n    </td>\n  </tr>\n</table>\n\n合計: "),r={},o={},a.buffer.push(i(n._triageMustache.call(e,"total",{hash:{},contexts:[e],types:["ID"],hashContexts:o,hashTypes:r,data:a}))),a.buffer.push("\n"),c}),Ember.TEMPLATES.sheets=Ember.Handlebars.template(function(t,e,n,s,a){function h(t,e){e.buffer.push("\n  まだ帳票は作成されていません\n")}function u(t,e){var s,a,h,u,o,c="";return e.buffer.push("\n    <li>\n      "),h={},u={},e.buffer.push(l(n._triageMustache.call(t,"id",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:e}))),e.buffer.push(":\n      "),h={},u={},e.buffer.push(l(n._triageMustache.call(t,"createdAt",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:h,data:e}))),e.buffer.push("\n      "),h={},u={},o={hash:{},inverse:f.noop,fn:f.program(4,r,e),contexts:[t,t],types:["STRING","ID"],hashContexts:u,hashTypes:h,data:e},s=n["link-to"]||t["link-to"],a=s?s.call(t,"sheet","",o):d.call(t,"link-to","sheet","",o),(a||0===a)&&e.buffer.push(a),e.buffer.push("\n    </li>\n  "),c}function r(t,e){e.buffer.push("\n        内容を見る\n      ")}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),a=a||{};var o,c,i,p="",l=this.escapeExpression,f=this,d=n.helperMissing;return a.buffer.push("<h1>帳票一覧</h1>\n\n"),c={},i={},o=n.unless.call(e,"",{hash:{},inverse:f.noop,fn:f.program(1,h,a),contexts:[e],types:["ID"],hashContexts:i,hashTypes:c,data:a}),(o||0===o)&&a.buffer.push(o),a.buffer.push("\n\n<ul>\n  "),c={},i={},o=n.each.call(e,{hash:{},inverse:f.noop,fn:f.program(3,u,a),contexts:[],types:[],hashContexts:i,hashTypes:c,data:a}),(o||0===o)&&a.buffer.push(o),a.buffer.push("\n</ul>\n"),p}),Account.IndexRoute=Ember.Route.extend({model:function(){return Account.Sheet.create({lines:[Account.OrderLine.create(),Account.OrderLine.create()]})}}),Account.NotFoundRoute=Ember.Route.extend({afterModel:function(){this.transitionTo("index")}}),Account.SheetRoute=Ember.Route.extend({model:function(t){return Account.Sheet.sheets[t.id-0]},afterModel:function(t){t||this.transitionTo("not_found")}}),Account.SheetsRoute=Ember.Route.extend({model:function(){return Account.Sheet.sheets}}),Account.Router.map(function(){this.resource("sheet",{path:"/sheet/:id"}),this.resource("sheets"),this.resource("not_found",{path:"/*any"})});